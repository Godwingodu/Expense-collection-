<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Form</title>
	<link rel="stylesheet" href="Google Sheet.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body>




	<form method="post" action="https://script.google.com/macros/s/AKfycbwWHh7hyJF-Xlkzn84otOEn8hsHin8tuLqu_twgQAyBgUq-PKXKB2kq6bAUb_6tbL5K/exec" name="contact-form">
		<h4 style="color: rgb(10, 9, 9);">Expense Collector</h4>




		<label for="meeting-datetime">Choose a date and time:</label>
		<input type="datetime-local" id="meeting-datetime" name="datetime" required>
		


		<label for="name">Amount:</label>

		<input type="number"  name="amount" placeholder="Amount" required >
		<label for="name">Purpose:</label>

		<input type="purpose" name="purpose" placeholder="Purpose" required>
		<!-- <input type="email" name="your-email" placeholder="Email"> -->
		<label for="name">Card:</label>



		<select id="cars" name="card" required >
			<option value="Flipkart Axis Bank CC">Flipkart Axis Bank CC</option>
			<option value="Icici petrol card">Icici petrol card</option>

		  </select>


		  <!-- <label for="imageUpload">Choose an image:</label>
		  <input type="file" id="imageUpload" name="image" accept="image/*" capture="environment"> -->
		  <!-- <label for="imageUpload">Take an image:</label>
		  <input type="file" id="imageUpload" name="image" accept="image/*" capture="environment"> -->


		  <label for="imageUpload">Upload from gallery:</label>
		  <input type="file" id="imageUpload" name="image" >

		  <!-- Button to trigger gallery selection -->
		  <!-- <button type="button" onclick="openGallery()">Upload from Gallery</button> -->


		  <!-- <label for="imageUpload">Choose an image:</label>
		  <label class="custom-file-upload" for="imageUpload">Browse</label>
		  <input type="file" id="imageUpload" name="image" accept="image/*" capture="environment">
		  <input type="submit" value="Upload"> -->






		  <label for="name">Comment:</label>

		<textarea name="comments" rows="2" placeholder="Your Comments" ></textarea>

		<a onclick="getLocation()" class="mt-2 p-2 custom-link">Get Location</a>

		<input class="mt-2 mb-2" type="text" name="location" placeholder="location" value="" id="demo">

		<input type="submit" value="Submit" id="submit">

	</form>
	<p id="loading-message"></p>

	<script src="GoogleSheet.js">
		console.log("hi")
	</script>
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>





	<script>
		function getLocation() {
			if (navigator.geolocation) {
				navigator.geolocation.getCurrentPosition(showPosition, showError);
			} else {
				document.getElementById("demo").value = "Geolocation is not supported by this browser.";
			}
		}
	
		function showPosition(position) {
			var latitude = position.coords.latitude;
			var longitude = position.coords.longitude;
	
			// Using OpenStreetMap Nominatim API
			var nominatimApiUrl = `https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${latitude}&lon=${longitude}`;
	
			// Make a request to the Nominatim API
			fetch(nominatimApiUrl)
				.then(response => response.json())
				.then(data => {
					if (data.display_name) {
						var address = data.display_name;
						document.getElementById("demo").value = address;
					} else {
						document.getElementById("demo").value = "Could not determine location.";
					}
				})
				.catch(error => {
					console.error("Error fetching location data:", error);
					document.getElementById("demo").value = "Error fetching location data.";
				});
		}
	
		function showError(error) {
			switch (error.code) {
				case error.PERMISSION_DENIED:
					document.getElementById("demo").value = "User denied the request for Geolocation.";
					break;
				case error.POSITION_UNAVAILABLE:
					document.getElementById("demo").value = "Location information is unavailable.";
					break;
				case error.TIMEOUT:
					document.getElementById("demo").value = "The request to get user location timed out.";
					break;
				case error.UNKNOWN_ERROR:
					document.getElementById("demo").value = "An unknown error occurred.";
					break;
			}
		}
	
		// Call the getLocation function to initiate the geolocation process
		getLocation();
	</script>

<a href="test.html">test</a>
</body>
</html>
