<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Expense Saver Form</title>
	<style>
        .row {
            display: flex;
            align-items: center;
        }

        label {
            display: flex;
            align-items: center;
            margin-right: 20px;
        }

        input[type="radio"] {
            margin-right: 5px;
        }
		.col {
			background-color: rgb(116, 98, 98);
			border: 3px solid rgb(190, 178, 178) ;
			color: aliceblue;
			padding-top: 3px;
		}
		.hidden {
            display: none;
        }
    </style>
	<link rel="stylesheet" href="style.css">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
	<script src="script.js">
	</script>
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
		crossorigin="anonymous"></script>
</head>

<body> 
	<form method="post" onsubmit="submitForm(event)"
		action="https://script.google.com/macros/s/AKfycbwWHh7hyJF-Xlkzn84otOEn8hsHin8tuLqu_twgQAyBgUq-PKXKB2kq6bAUb_6tbL5K/exec"
		name="contact-form" id="expense-form">
		<h4 style="color: rgb(10, 9, 9);">Expense Collector</h4>
		<label for="meeting-datetime">Choose a date and time:</label>
		<input type="datetime-local" id="meeting-datetime" name="dates" required>
		<input type="hidden" id="date-input" name="date">
		<input type="hidden" id="time-ampm-input" name="time">

		<label for="name">Amount:</label>
		<input type="number" name="amount" placeholder="Amount" required step="any">
		<label for="name">Purpose:</label>
		<input type="purpose" name="purpose" placeholder="Purpose" required>



		<label for="name" id="creditLabel" >Select User:</label>
		<select name="user" required style="border-radius: 10px;">
			<option class="creditOption">Select</option>
			<option  value="Shop">Shop</option>
			<option  value="Personal" >Personal</option>
			<option  value="Family" >Family</option>
			<option  value="Booking" >Booking</option>
		</select>




		<label for="name">Payment Type:</label>



		



		<div class="row">
			<div class="col" style="border-radius: 4px; margin-right: 8px;" >
				<label style="width: 87%;">
					<input type="radio" name="payment_type" value="Credit Card" style="width: 15%;" onclick="showOptions('credit')">
					Credit
				</label>
			</div>
			<div class="col" style="border-radius: 4px;  margin-right: 8px;" >
				<label style="width: 87%;">
					<input type="radio" name="payment_type" value="Debit Card" style="width: 15%;" onclick="showOptions('debit')">
					Debit
				</label>
			</div>
			<div class="col" style="border-radius: 4px;  margin-right: 8px; " >
				<label style="width: 87%;">
					<input type="radio" name="payment_type" value="Bank Account" style="width: 15%;" onclick="showOptions('bank')">
					Bank
				</label>
			</div>
		</div>

		



		<label for="name" id="creditLabel" >Select:</label>
		<select name="card" required style="border-radius: 10px;">


			<option class="creditOption">Select</option>
			<option id="creditOption3" value="Icici Coral CC" class="creditOption">Icici Coral Credit Card (UPI)</option>
			<option id="creditOption2" value="Flipkart Axis Bank CC" class="creditOption">Flipkart Axis Bank Credit Card</option>
			<option id="creditOption4" value="Icici Platinum CC" class="creditOption">Icici Platinum Credit Card</option>
			<option id="creditOption5" value="Axis My Zone CC" class="creditOption">Axis Bank My Zone Credit Card</option>
			<option id="creditOption6" value="Icici Petrol CC" class="creditOption">Icici Petrol Credit Card</option>
			<option id="creditOption8" value="Sbi Bpcl card" class="creditOption">SBI Bpcl Card</option>
			<option id="creditOption9" value="Sbi Simply Click card" class="creditOption">SBI Simply Click Card (UPI)</option>
			<option id="creditOption10" value="Hdfc Moneyback Plus CC CC" class="creditOption">HDFC Moneyback Plus Credit Card</option>
			<option id="creditOption11" value="Kotak League CC" class="creditOption">Kotak League Credit Card</option>
			<option id="creditOption12" value="Icici Sapphiro CC" class="creditOption">Icici Sapphiro Credit Card</option>
			<option id="creditOption13" value="Axis Neo CC" class="creditOption">Axis Neo Credit Card (UPI)</option>



			<option id="debitOption1" value="Flipkart Axis Bank Dc" class="debitOption">Axis Bank Debit Card</option>
			<option id="debitOption2" value="Icici petrol card" class="debitOption">Icici Bank Debit Card</option>
			<option id="debitOption3" value="State Bank of India Debit Card" class="debitOption">State Bank of India Debit Card</option>
			<option id="debitOption4" value="Kotak Bank Debit Card" class="debitOption">Kotak Bank Debit Card</option>
			<option id="debitOption5" value="Fedral Bank Debit Card" class="debitOption">Federal Bank Debit Card</option>
			<option id="debitOption6" value="Hdfc Bank Debit Card" class="debitOption">HDFC Bank Debit Card</option>
			<option id="debitOption7" value="South Indian Bank Debit Card" class="debitOption">South Indian Bank Debit Card</option>


			<option id="bankOption1" value="Axis Bank" class="bankOption">Axis Bank</option>
			<option id="bankOption2" value="Icici petrol card" class="bankOption">Icici Bank</option>
			<option id="bankOption3" value="State Bank of India" class="bankOption">State Bank of India</option>
			<option id="bankOption4" value="Kotak Bank" class="bankOption">Kotak Bank</option>
			<option id="bankOption5" value="Fedral Bank" class="bankOption">Federal Bank</option>
			<option id="bankOption6" value="Hdfc Bank" class="bankOption">HDFC Bank</option>
			<option id="bankOption7" value="South Indian Bank" class="bankOption">South Indian Bank</option>
			<option id="bankOption8" value="Paytm Bank" class="bankOption">Paytm Bank</option>


		</select>

		<label for="imageUpload">Upload from gallery:</label>
		<!-- <input type="file" id="imageUpload" name="image"> -->
		<div id="msg"></div>
		<!-- <label for="name">Comment:</label>
		<textarea name="comments" rows="2" placeholder="Your Comments"></textarea> -->
		<a onclick="getLocation()" class="mt-2 p-2 custom-link">Get Location</a>
		<input class="mt-2 mb-2" type="text" name="location" placeholder="location" value="" id="demo">


		<input type="file" vaccept="image/*">
		<img src="" alt="">

		

		<input type="submit" value="Submit" id="submit">
		<p id="loading-message"></p>

	


	</form>
	<script>
		window.onload = setDefaultDateTime; /*setting default date and time on page load*/
		getLocation(); /*getting location on page load*/
	</script>

<script>
    // This line declares a variable called "url" and assigns it a value of "Api_Endpoint_Url"
    let url = "https://script.google.com/macros/s/AKfycbx17T2AJbl8ConlpeX3yXI9pHJnCotk0yx_c1ooO9pNwf0nfBMuowTKQmAXDZ_esy_T/exec";
    // This line declares a variable called "file" and assigns it the value of the first input element on the page
    let file = document.querySelector("input");
    // This line declares a variable called "img" and assigns it the value of the first image element on the page
    let img = document.querySelector("img");
    // This line adds an event listener to the "change" event of the "file" input element
    file.addEventListener('change',()=>{
		alert("y")
        // This line creates a new FileReader object called "fr"
        let fr = new FileReader();
        // This line adds an event listener to the "loadend" event of the FileReader object
        fr.addEventListener('loadend',()=>{
            // This line declares a variable called "res" and assigns it the result of the FileReader object
            let res = fr.result;
            console.log(res);
            // This line sets the "src" attribute of the "img" element to the value of "res"
            img.src=res;
            // This line splits the "res" variable into an array, using the string "base64," as the separator, and assigns the second element to a variable called "spt"
            let spt = res.split("base64,")[1];
            // This line creates an object called "obj" with three properties: "base64", "type", and "name"
            let obj = {
                base64:spt,
                type:file.files[0].type,
                name:file.files[0].name
            }
            // This line sends a POST request to the URL specified in the "url" variable, with the "obj" object as the request body
            fetch(url,{
                method:"POST",
                body:JSON.stringify(obj)
            })
            // This line waits for the response from the server and converts it to text
            .then(r=>r.text())
            // This line logs the response data to the console
            .then(data=>console.log(data))
 
        })
        // This line reads the selected file as a data URL
        fr.readAsDataURL(file.files[0])
    })
</script>
</body>

</html>